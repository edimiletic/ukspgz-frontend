<div class="modal-overlay" *ngIf="isOpen" (click)="onBackdropClick($event)">
  <div class="modal-container">
    <div class="modal-header">
      <h3>Kreiraj novo pitanje</h3>
      <button class="close-btn" (click)="close()" type="button">
        <span>&times;</span>
      </button>
    </div>

    <div class="modal-body">
      <form (ngSubmit)="onSubmit()" #questionForm="ngForm">
        <!-- Question Text -->
        <div class="form-group">
          <label for="questionText">Tekst pitanja *</label>
          <textarea
            id="questionText"
            name="questionText"
            [(ngModel)]="questionData.questionText"
            #questionText="ngModel"
            required
            rows="4"
            placeholder="Unesite tekst pitanja..."
          ></textarea>
          <div class="validation-error" *ngIf="questionText.invalid && questionText.touched">
            Tekst pitanja je obavezan.
          </div>
        </div>

        <!-- Correct Answer -->
        <div class="form-group">
          <label>Točan odgovor *</label>
          <div class="radio-group">
            <div class="radio-option">
              <input
                type="radio"
                id="answerTrue"
                name="correctAnswer"
                [value]="true"
                [(ngModel)]="questionData.correctAnswer"
              >
              <label for="answerTrue">Da (Točno)</label>
            </div>
            <div class="radio-option">
              <input
                type="radio"
                id="answerFalse"
                name="correctAnswer"
                [value]="false"
                [(ngModel)]="questionData.correctAnswer"
              >
              <label for="answerFalse">Ne (Netočno)</label>
            </div>
          </div>
        </div>

        <!-- Category -->
        <div class="form-group">
          <label for="category">Kategorija</label>
          <select
            id="category"
            name="category"
            [(ngModel)]="questionData.category"
          >
            <option *ngFor="let category of categories" [value]="category">
              {{ category }}
            </option>
          </select>
        </div>

        <!-- Error Message -->
        <div class="error-message" *ngIf="error">
          {{ error }}
        </div>

        <!-- Form Actions -->
        <div class="form-actions">
          <button type="button" class="cancel-btn" (click)="close()" [disabled]="isSubmitting">
            Odustani
          </button>
          <button 
            type="submit" 
            class="submit-btn" 
            [disabled]="questionForm.invalid || isSubmitting"
          >
            {{ isSubmitting ? 'Dodajem...' : 'Dodaj pitanje' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>